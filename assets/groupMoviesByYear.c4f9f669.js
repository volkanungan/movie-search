(function(){"use strict";const i=new Map;addEventListener("message",n=>{n.data.command==="group"&&s(n.data.movies)});function s(n){if(i.has(JSON.stringify(n))){postMessage(i.get(JSON.stringify(n)));return}const r=g(n),t=u(r);i.set(JSON.stringify(n),t),postMessage(t)}function a(n){let r,t,e;return n.includes("\u2013")?(r=!0,[t,e=new Date().getFullYear()]=n.split("\u2013"),e=e===""?new Date().getFullYear():e):(r=!1,t=e=n),{isRange:r,startingYear:Number(t),endingYear:Number(e)}}function g(n){return[...n].sort((r,t)=>{const e={a:a(r.Year),b:a(t.Year)};return e.b.endingYear>e.a.endingYear?1:e.b.endingYear<e.a.endingYear?-1:!e.a.isRange&&!e.b.isRange?0:e.a.isRange&&!e.b.isRange?1:!e.a.isRange&&e.b.isRange||e.a.startingYear>e.b.startingYear?-1:1})}function u(n){return n.reduce((r,t)=>(r.length>0&&r[r.length-1].year===t.Year?r[r.length-1].movies.push(t):r.push({year:t.Year,movies:[t]}),r),[])}})();
