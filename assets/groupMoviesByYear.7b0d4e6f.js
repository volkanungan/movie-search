(function(){"use strict";addEventListener("message",r=>{r.data.command==="group"&&a(r.data.movies)});function a(r){const n=s(r),t=u(n);postMessage(t)}function i(r){let n,t,e;return r.includes("\u2013")?(n=!0,[t,e=new Date().getFullYear()]=r.split("\u2013"),e=e===""?new Date().getFullYear():e):(n=!1,t=e=r),{isRange:n,startingYear:Number(t),endingYear:Number(e)}}function s(r){return[...r].sort((n,t)=>{const e={a:i(n.Year),b:i(t.Year)};return e.b.endingYear>e.a.endingYear?1:e.b.endingYear<e.a.endingYear?-1:!e.a.isRange&&!e.b.isRange?0:e.a.isRange&&!e.b.isRange?1:!e.a.isRange&&e.b.isRange||e.a.startingYear>e.b.startingYear?-1:1})}function u(r){return r.reduce((n,t)=>(n.length>0&&n[n.length-1].year===t.Year?n[n.length-1].movies.push(t):n.push({year:t.Year,movies:[t]}),n),[])}})();
